============
热电器件优值
============

背景与原理
----------

器件热电优值基于 Snyder 的工作，其核心在于首先基于差分方法计算出一个转化效率，
然后基于此转化效率按照公式 :eq:`efficiency` 逆推相应的热电优值。

.. math:: 
   :label: efficiency

   \eta = \frac{\Delta T}{T_h} 
   \frac {\sqrt{1+ZT} - 1}{\sqrt{1+ZT} + T_c / T_h}

为了计算器件转化效率，
Snyder 等人是进行一些变量替换将原先的二阶微分方程降阶为一阶微分方程，
然后基于差分方法求解。这里我们不过多赘述，只提及两个概念，
一个是约化电流，一个是热电势。在原生提供的表格求解器中，
我们需要手动地调整约化电流值或者利用插件实现电流调优从而最大化转化效率。
这里我们通过程序自动的完成所有工作，直接读入热电材料性质，
然后计算相应的器件热电优值。

具体实现
--------

1. 命令调用
^^^^^^^^^^^

.. code-block:: bash

    $ tef-ztdev -h

2. 调用 valuate 函数
^^^^^^^^^^^^^^^^^^^^

.. code-block:: python

    from teflow.ztdev import valuate

    datas_TCSK = ...
    rst = valuate(datas_TCSK)
    print(rst['ZTdev'])

扩展
----

这里提出了一个非常有建设性的想法，即以最终器件的效率来反向评估材料性质。
依照这种思想，我们也可以依据一个复杂的器件的转化效率来评估所有材料的平均热电优值。
因此我们在模块中设置了独立的函数来帮助我们从先验的转化效率预估材料。
具体可以参考 :doc:`API介绍</api_doc/teflow.ztdev>` 中的内容。

